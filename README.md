# Бот-уведомитель о статусе домашних заданий с YandexPracticum

Этот проект представляет собой Telegram-бота, который проверяет статусы домашних заданий из API Яндекс.Практикума и уведомляет пользователей о любых изменениях.

## Требования
- Python 3.7+
- Аккаунт и бот в Telegram
- Аккаунт и токен Яндекс.Практикума

## Установка
- Клонируйте и перейдите в репозиторий:
```
git clone https://github.com/HarisNvr/YaCum_bot.git
cd homework-status-bot
```
- Создайте и активируйте виртуальное окружение:
```
python -m venv venv
source venv/bin/activate
```
- Установите зависимости:
```
pip install -r requirements.txt
```
- Создайте файл .env в корневом каталоге и добавьте свои токены:
```
PRACTICUM_TOKEN=ваш_токен_YP
TELEGRAM_BOT_TOKEN=токен_вашего_ТГ_бота
TELEGRAM_CHAT_ID=id_вашего_аккаунта
```

## Использование
- Запустите бота:
```
python homework.py
```
Бот начнет проверять статус ваших домашних заданий и будет отправлять вам уведомления в ваш Telegram-чат.

## Немного про API Яндекс.Практикума

### API Практикум Домашка возвращает ответы в формате JSON.

**В случае успешного запроса (код ответа сервера 200) в ответе должны вернуться два ключа:**
- homeworks: значение этого ключа — список домашних работ;
- current_date: значение этого ключа — время отправки ответа.

**В список homeworks попадают работы, которым был присвоен статус за период от from_date до настоящего момента. Следовательно, с помощью метки времени можно управлять содержанием этого списка:** 
- при from_date = 0 в этот список попадут все ваши домашние работы;
- при from_date, равном «минуту назад», велик шанс получить пустой список;
- при других значениях этого параметра в списке будет ограниченный перечень домашних работ.

## Структура проекта
- homework.py: Основной скрипт, который запускает бота.
- requirements.txt: Список необходимых пакетов.
- main.log: Журнал логирования
- .env: Файл переменных окружения

## Переменные окружения
- **PRACTICUM_TOKEN:** Токен для доступа к API Яндекс.Практикума.
- **TELEGRAM_BOT_TOKEN:** Токен для Telegram-бота.
- **TELEGRAM_CHAT_ID:** ID чата для отправки уведомлений.

## Функции
- check_tokens(): Проверяет наличие всех необходимых токенов.
- get_api_answer(timestamp): Отправляет запрос к API Яндекс.Практикума и обрабатывает общие HTTP-ошибки.
- check_response(response): Проверяет корректность ответа API.
- parse_status(homework): Готовит текущий статус домашнего задания для отправки пользователю.
- send_message(bot, message): Отправляет сообщение со статусом домашнего задания пользователю.
- main(): Основная логика бота.

## Логирование
Логи сохраняются в main.log и выводятся в консоль. Уровень логирования установлен на DEBUG.
